---
layout: post
title: ! '[转] Symbian OS 9 可执行文件格式'
author: gavinkwoe
date: !binary |-
  MjAwOS0wNC0yNCAxNjozMjo1NSArMDgwMA==
date_gmt: !binary |-
  MjAwOS0wNC0yNCAwODozMjo1NSArMDgwMA==
---
<p class="0" style="layout-grid-mode: char; margin-right: 24pt;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">原译者：<span style="font-weight: bold; font-size: 16pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">陈啸天(cxt_programmer)
请关注<a href="http://www.cpplite.com">www.cpplite.com</a>及bbs.cpplite.com</span></span></span></span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;"><!--EndFragment--></span></span>
<p class="0" style="layout-grid-mode: char; margin-right: 24pt;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">声明：原文出自大牛&mdash;&mdash;ScreenShot作者A</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ntony</span> <span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"> P</span> <span style="font-weight: bold; font-size: 14pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ranata</span> <span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">。本人英语很烂，之所以瞎译出来一是为了以后参考方便一些，二是在翻译的过程中自己能更仔细的看～。强烈建议大家对照英文原版来看哈。另外有些地方没有翻译，大家意会哈。</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; margin-right: 24pt;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">原文地址：</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; margin-right: 24pt;"><span><a href="http://www.antonypranata.com/articles/new-symbian-os-9-executable-file-format-e32image"><span class="16" style="font-size: 10pt; color: #0000ff; font-family: 'Times New Roman'; text-decoration: underline; mso-spacerun: 'yes';">http://www.antonypranata.com/articles/new-symbian-os-9-executable-file-format-e32image</span> </a></span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; margin-right: 24pt;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; margin-right: 24pt;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">前言：</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">Symbian OS 9<span style="font-family: 宋体;">已经发布，与之前的版本相比，OS 9增加了许多新特性并有了一些改变，其中之一就是新的可执行文件格式（E32Image）。本文主要讨论了这个新的文件格式，如果你想了解OS 9之前的可执行文件格式，可以阅读一下我之前关于此话题的文章。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">在开始之前，请注意我们仅仅讨论的是真机环境下的可执行文件格式（ARM）。为什么不讨论模拟器环境呢？因为运行在模拟器的可执行文件使用了一种不同的文件格式（Cxt注：模拟器下的可执行文件应该是windows的PE格式），如果你之前不了解任何一个平台的可执行文件格式，下面的介绍会更好的帮助你理解E32文件格式。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">这篇文章是在Symbian网站或者其他拥有Symbian OS licensees的厂商（例如Nokia）提供的公开信息（文档）之上完成的。虽然我目前在一家手机厂商工作，但这篇文章涉及内容的正确性并未经过公司的核对。尽管我已经紧握最大的努力确保这篇文章内容的正确，但我仍然无法100％保证（Cxt音：看看，大牛总是很谦虚的，我们要做一个谦虚的人哈）。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';">EABI<span style="font-family: 宋体;">介绍（</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Introduction to EABI</span> <span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）：</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">ABI<span style="font-family: 宋体;">（应用程序二进制接口，Application Binary Interface）是由ARM及其合作伙伴们制定的一个标准，它定义了如何编译、链接，以及其他工具怎样生成obj文件和可执行文件。这个标准可以让不同编译器生成的obj文件互通，例如可以把不同编译器生成的obj文件组合在一起。EABI（嵌入式应用程序二进制接口，</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Embedded Application Binary Interface</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）也是这样的标准，它就是嵌入式平台的ABI。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">写这篇文章的时候，有两种编译器可以用于Symbian OS 9&mdash;&mdash;RVCT（</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">RealView Compilation Tools</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）和GCCE。RVCT是ARM公司开发的编译器，license费用可达数千美元；与此不同，GCCE是一个由</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">CodeSourcery</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">开发的免费编译器；顾名思义，GCCE基于GNU编译器。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">    EABI<span style="font-family: 宋体;">编译器生成的格式为ELF（</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Executable and Linking Format</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">），它不同于Symbian OS 9之前的PE格式。然而Symbian OS并不使用ELF格式，因为Symbian OS通常在大小受限的ROM上，而标准ELF文件的尺寸通常又很大。所以Symbian把标准的ELF转换为Symbian特有的E32Image格式。如果你有安装Symbian SDK，可以在epoc32\tools目录下找到用于把ELF转换为E32Image的工具，它叫elf2e32.exe。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">下图展示了Symbian OS 9的新工具链。如你所见，最后生成的是由elf2e32.exe转换完的Symbian特有格式&mdash;&mdash;E32Image。Symbian网站和SDK中有更多关于这方面的介绍。（Cxt注：SDK help：</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span class="15" style="font-size: 10pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">&raquo;</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span><a href="mk:@MSITStore:C:\Symbian\9.1\S60_3rd_MR\S60Doc\Symbian_DevLib.chm::/doc_source/index.html"><span class="16" style="font-size: 10pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Symbian OS v9.1</span> </a></span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span class="15" style="font-size: 10pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">&raquo;</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span><a href="mk:@MSITStore:C:\Symbian\9.1\S60_3rd_MR\S60Doc\Symbian_DevLib.chm::/doc_source/N1035A/index.html"><span class="16" style="font-size: 10pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Symbian OS Tools And Utilities</span> </a></span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span class="15" style="font-size: 10pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">&raquo;</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span><a href="mk:@MSITStore:C:\Symbian\9.1\S60_3rd_MR\S60Doc\Symbian_DevLib.chm::/doc_source/N1035A/BuildTools/index.html"><span class="16" style="font-size: 10pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Build tools guide</span> </a></span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span class="15" style="font-size: 10pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">&raquo;</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> The native build targets</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">目录下有全面详细的文档介绍）。通常你不会看到下图所示的流程，因为Symbian OS使用一些脚本工具（例如bldmake、abld等）自动完成。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt; text-align: center;"><img src="file:///C:/DOCUME~1/GODWIN~1/LOCALS~1/Temp/ksohtml/wps_clip_image1.png" alt="" width="409" height="513" /><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">如果你不熟悉.dso文件也没关系，它其实与Symbian OS 9以及其他平台的.lib文件是一样的。（Cxt注：.dos提供导出的函数的名称和位置，DLL包含实际的函数和数据。）</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">我在前面说过，ELF文件通常都很大，不适合用于手机。减少ELF尺寸的方法之一是把函数名字替换为序号。例如可以把MyFunction()替换为1，正如你期望的，这种方法可以极大的减小ELF的尺寸，特别是当函数名称很长时（例如</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ThisIsVeryLongFunction</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">()<span style="font-family: 宋体;">）这种效果更加明显。额等等！如此一来，如何找到序号和函数名称之间的对应关系呢？别急，我们有一个.def文件，它提供了序号与函数名之间的对应关系。（Cxt：呼</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">……</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';">E32Image<span style="font-family: 宋体;">概述（</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Overview of E32Image</span> <span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）：</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">现在让我们来看看E32Image吧。与其他标准的可执行文件类似，它也包含头（Header）、代码段（Code Section）、数据段（Data Section）、导入段（Import Section）等等。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: center;"><img src="file:///C:/DOCUME~1/GODWIN~1/LOCALS~1/Temp/ksohtml/wps_clip_image2.png" alt="" width="234" height="316" /><span style="font-weight: bold; font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">上图展示了E32文件格式，与其他可执行文件格式一样，最开始的部分是header。下面我会着重介绍E32 header里面都有些什么东东。在Header之下还有一些其它section（Cxt：这部分大家意会哈^_^）：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Code section, contains all the object files (.o) of your source code as well as export address table that lists all the exported functions.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">BSS section, contains un-initialized data.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Data section, contains initialized data.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Import section, contains the information about all imported functions used by your program.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot;</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Relocation section, contains relocation table needed by Symbian OS loader to load your program.</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';">E32Image<span style="font-family: 宋体;">头（</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Header of E32Image</span> <span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）：</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">头信息也许是最有趣的部分，因为它包含了可执行文件的很多信息。E32ImageHeader的声明可以在SDK的\epoc32\include\f32image.h中找到。看看class </span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">E32ImageHeaderV</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">的声明，这可是E32Image文件格式完整的头信息。如果你仔细看了class </span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">E32ImageHeaderV</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，你会发现它继承了E32HeaderComp（E32HeaderComp继承了E32ImageHeader）。下图对它们的关系做了更好的说明：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt; text-align: center;"><img src="file:///C:/DOCUME~1/GODWIN~1/LOCALS~1/Temp/ksohtml/wps_clip_image3.png" alt="" width="208" height="208" /><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">下面的代码片段展示了</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">EImageHeader</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">EImageHeaderComp</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">和</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">E32ImageHeaderV</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">的声明，请注意我删减了部分函数以及注释以便于更清晰的查看：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; color: #0000ff; font-family: '新宋体'; mso-spacerun: 'yes';">class</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> E32ImageHeader</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">{</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; color: #0000ff; font-family: '新宋体'; mso-spacerun: 'yes';">public</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">:</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iUid1;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iUid2;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iUid3;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iUidChecksum;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iSignature; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// 'EPOC'</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iHeaderCrc; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// CRC-32 of entire header</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iModuleVersion; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// Version number for this executable (used in link resolution)</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iCompressionType; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// Type of compression used (UID or 0 for none)</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TVersion iToolsVersion; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// Version of PETRAN/ELFTRAN which generated this file</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iTimeLo;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iTimeHi;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iFlags; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// 0 = exe, 1 = dll, 2 = fixed address exe</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iCodeSize; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// size of code, import address table, constant data and export dir</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iDataSize; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// size of initialised data</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iHeapSizeMin;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iHeapSizeMax;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iStackSize;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iBssSize;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iEntryPoint; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// offset into code of entry point</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iCodeBase; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// where the code is linked for </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iDataBase; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// where the data is linked for</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iDllRefTableCount; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// filling this in enables E32ROM to leave space for it</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iExportDirOffset; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// offset into the file of the export address table</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iExportDirCount;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TInt iTextSize; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// size of just the text section, also doubles as the offset for the</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// iat w.r.t. the code section</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iCodeOffset; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// file offset to code section, also doubles as header size</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iDataOffset; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// file offset to data section</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iImportOffset; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// file offset to import section</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iCodeRelocOffset; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// relocations for code and const</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint iDataRelocOffset; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// relocations for data</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint16 iProcessPriority; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// executables priority</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint16 iCpuIdentifier; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// 0x1000 = X86, 0x2000 = ARM</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">};</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; color: #0000ff; font-family: '新宋体'; mso-spacerun: 'yes';">class</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> E32ImageHeaderComp : </span> <span style="font-size: 9pt; color: #0000ff; font-family: '新宋体'; mso-spacerun: 'yes';">public</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> E32ImageHeader</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">{</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; color: #0000ff; font-family: '新宋体'; mso-spacerun: 'yes';">public</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">:</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iUncompressedSize; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// Uncompressed size of file</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// For J format this is file size - sizeof(E32ImageHeader)</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// and this is included as part of the compressed data :-(</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// For other formats this is file size - total header size</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">};</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; color: #0000ff; font-family: '新宋体'; mso-spacerun: 'yes';">class</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> E32ImageHeaderV : </span> <span style="font-size: 9pt; color: #0000ff; font-family: '新宋体'; mso-spacerun: 'yes';">public</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> E32ImageHeaderComp</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">{</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; color: #0000ff; font-family: '新宋体'; mso-spacerun: 'yes';">public</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">:</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">SSecurityInfo iS;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// Use iSpare1 as offset to Exception Descriptor</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iExceptionDescriptor; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// Offset in bytes from start of code section to Exception Descriptor,</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// bit 0 set if valid</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint32 iSpare2;</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint16 iExportDescSize; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// size of bitmap section</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint8 iExportDescType; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// type of description of holes in export table</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-align: left;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"> </span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">TUint8 iExportDesc[1]; </span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';">// description of holes in export table - extend</span> <span style="font-size: 9pt; color: #008000; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">};</span> <span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';">    </span> <span style="font-size: 10.5pt; font-family: '新宋体'; mso-spacerun: 'yes';">我将逐一解释上面这些字段。从下面的列表中，左端的16进制数表示这个字段在文件中的偏移量，例如iUid2的位置是从文件头部开始0x04的位置。换句话说，如果你把可执行文件用二进制编辑器打开，然后找到偏移量0x04的位置你就可以找到iUid2。注意E32Image使用小端格式（little-endian order）。</span> <span style="font-size: 10.5pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 9pt; font-family: '新宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-weight: bold; font-size: 14pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">E32ImageHeader</span> <span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">：</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x00:</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">iUid1</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行文件的第一个UID。这个UID可被看作是一个系统级别的标识符，例如Dlls是</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1000 0079</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行程序是</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1000 007A</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">。如果你想更多的了解Symbian OS UID相关信息，可以</span> </span><span><a href="http://www.symbian.com/developer/techlib/v70sdocs/doc_source/ToolsAndUtilities/BuildTools/UsingUids.guide.html"><span class="16" style="font-size: 10pt; color: #0000ff; font-family: '宋体'; text-decoration: underline; mso-spacerun: 'yes';"><span style="font-family: 宋体;">访问这里</span> </span></a></span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x04: iUid2</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行文件的第二个UID。当两个对象拥有同一个UID1的时候，就需要用这个UID来区分它们，例如</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1000 39CE</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">表示多态接口Dll（</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">polymorphic interface DLLs</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">），</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> 0x1000 008d</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">表示静态接口（</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">static interface (shared library)</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x08: iUid3</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行文件的第三个UID。</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">每个程序的UID3都不同。下面这段不翻译了，贴个图看图识字吧^_^。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">It is unique for each application. Developers have to request this UID from Symbian Signed service. Symbian OS 9 applications usually have UIDs in the range of 0x200 0000 and 0x2FFF FFFF. Examples from Symbian OS SDKs, like S60 SDK or UIQ SDK, have the UIDs in the range of 0xA000 0000 and 0xAFFF FFFF. There are also some UID available for testing, which can be chosen from the range 0x0100 0000 to 0x0FFF FFFF.</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt; text-align: center;"><img src="file:///C:/DOCUME~1/GODWIN~1/LOCALS~1/Temp/ksohtml/wps_clip_image4.png" alt="" width="538" height="462" /><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x0C: iUidChecksum</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，校验前面提到的3个UID。Symbian SDK中提供了一个uidcrc.exe工具完成该功能；下面的例子展示了如何生成这三个UID：</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1000 007A</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1000 39CE </span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">和</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0xA000 017F</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">的校验码：</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">C:\>uidcrc 0x1000007A 0x100039CE 0xA000017F</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1000007a 0x100039ce 0xa000017f 0x1e7cca07</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x10: iSignature</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，E32文件唯一签名（</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">unique signature</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）。值统一为“EPOC”。图示如下：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><img src="file:///C:/DOCUME~1/GODWIN~1/LOCALS~1/Temp/ksohtml/wps_clip_image5.png" alt="" width="553" height="33" /><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x14: iHeaderCrc</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，整个头信息的完整校验，使用</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">CCITT CRC-32</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">算法。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x18: iModuleVersion</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行版本号。该信息用于链接过程（linking process）。在S60 3</span> </span><span style="font-size: 10.5pt; vertical-align: super; font-family: '宋体'; mso-spacerun: 'yes';">rd </span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">iModuleVersion </span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">值为10（</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x0000 000A</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）（Cxt注：大牛这里可能笔误了，iModuleVersion是T</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">u</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">int32<span style="font-family: 宋体;">，占4个字节，这个值应该是0x000A 0000）。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><img src="file:///C:/DOCUME~1/GODWIN~1/LOCALS~1/Temp/ksohtml/wps_clip_image6.png" alt="" width="553" height="35" /><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1C: iCompressionType</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，一个UID，表示使用哪种压缩算法压缩了可执行文件。如果值为0就说明未压缩。就我目前所看到的，只使用了一种压缩算法：由RFC 1951定义的</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Deflate/Huffman</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">算法。它的UID是</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">KUidCompressionDeflate</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">（</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x101F 7AFC</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">）。需要注意的是，未来也许会使用其他压缩算法。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt; text-align: center;"><img src="file:///C:/DOCUME~1/GODWIN~1/LOCALS~1/Temp/ksohtml/wps_clip_image7.png" alt="" width="553" height="34" /><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x20: iToolsVersion</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，生成这个可执行文件的</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ELFTRAN</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">工具版本。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x24: iTimeLo</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，时间戳。</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">the lowest word of the timestamp when the file is created.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x28: iTimeHi</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，时间戳。</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">the lowest word of the timestamp when the file is created.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x2C: iFlags</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行文件的一个标记，比如</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">KImageDll </span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">KImageNoCallEntryPoint </span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">等。这些标记定义在f32image.h中。f32image.h中有一些函数定义用来解释这些标记的意思。例如：如果flag值为</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1200 002A</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，我们可以把它看作：</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x1000 0000 + 0x0200 0000 + 0x0000 00020 + 0x0000 0008 + 0x0000 00002</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，结合f32image.h中的常量声明，我们可以发现：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 21pt; layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x10000000 = KImageImpFmt_PE</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行文件使用ELF-derived入口。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 21pt; layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x02000000 = KImageHdrFmt_V</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，header的版本支持。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 21pt; layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x00000020 = KImageEpt_Eka2</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，EKA2可执行文件。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 21pt; layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x00000008 = KImageABI_EABI</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行文件为EABI image file。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 21pt; layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">&middot; </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x00000002 = KimageNoCallEntryPoint</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，no call to entry point。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">    </span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x30: iCodeSize</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">is the size of code section, import address table, constant data and export dir.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x34: iDataSize</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, size of initialised data.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x38: iHeapSizeMin</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, the minimum size of the heap.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x3C: iHeapSizeMax</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, the maximum size of the heap.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x40: iStackSize</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, the size of the stack.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x44: iBssSize</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, the size of the un-initialized data section.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x48: iEntryPoint</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, offset into code of entry point.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x4C: iCodeBase</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, where the code is linked for.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x50: iDataBase</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, where the data is linked for.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x54: iDllRefTableCount</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, the number of DLLs imported by this program.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x58: iExportDirOffset</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, offset into the file of the export address table.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x5C: iExportDirCount</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, the offset of the export address table.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x60: iTextSize</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, size of just the text section, also doubles as the offset for the iat w.r.t. the code section.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x64: iCodeOffset</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, file offset to code section, also doubles as header size.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x68: iDataOffset</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, file offset to data section.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x6C: iImportOffset</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, file offset to import section.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x70: iCodeRelocOffset</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, relocations for code and const.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x74: iDataRelocOffset</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, relocations for data.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x78: iProcessPriority</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, executables priority.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 20.58pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x7A: iCpuIdentifier</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, the identifier of CPU. Look at the following constant for all possible values:</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">enum TCpu</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">{</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECpuUnknown=0, </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECpuX86=0x1000, </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECpuArmV4=0x2000, </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECpuArmV5=0x2001, </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECpuArmV6=0x2002, </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECpuMCore=0x4000</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 105pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">};</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">                </span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 10.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-weight: bold; font-size: 14pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">E32ImageHeaderComp</span> <span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">：</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">    <span style="font-family: 宋体;">开始之前，我们需要知道2个结构：定义在e32cmn.h的</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ScapabilitySet</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">和</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">SSSecurityInfo</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">。Symbian OS 9可以看到它们，它们保存了平台安全相关信息，比如能力（capability）、安全标识符（secure identifier）和厂商标识符（vendor identifier）。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">struct SCapabilitySet</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">{</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 115.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">enum {ENCapW=2};</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 115.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">TUint32 iCaps[ENCapW];</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">};</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">struct SSecurityInfo</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">{</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 115.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">TUint32 iSecureId;</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 115.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">TUint32 iVendorId;</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 115.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">SCapabilitySet iCaps; // Capabilities re. platform security</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">};</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">好了，让我们回到</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">E32ImageHeaderV</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x80: iS.iSecureId</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行文件的安全ID（secure ID）。就是可执行文件的UID3。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x84: iS.iVendorId</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，可执行文件的厂商ID（vendor ID）。对于第三方应用程序，值为0。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x88: iS.iCaps.iCaps</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，运行可执行文件需要的能力。Symbian OS所有的能力定义可以在</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">e32capability.h</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">文件中找到。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">enum TCapability</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">{</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityTCB = 0,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityCommDD = 1,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityPowerMgmt = 2,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityMultimediaDD = 3,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityReadDeviceData = 4,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityWriteDeviceData = 5,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityDRM = 6,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityTrustedUI = 7,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityProtServ = 8,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityDiskAdmin = 9,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityNetworkControl = 10,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityAllFiles = 11,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilitySwEvent = 12,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityNetworkServices = 13,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityLocalServices = 14,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityReadUserData = 15,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityWriteUserData = 16,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityLocation = 17,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilitySurroundingsDD = 18,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityUserEnvironment = 19,</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="margin-left: 94.5pt; layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">};</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">    <span style="font-family: 宋体;">能力以bit的形式表示，例如</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ECapabilityTCB</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">意味着最低有效位（LSB），如果设置了最低有效位，可执行文件就具有TCB能力。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x90: iExceptionDescriptor</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">is offset in bytes from start of code section to Exception Descriptor, bit 0 set if valid</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x94: iSpare2</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, reserved.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x98: iExportDescSize</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, size of bitmap section.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x9A: iExportDescType[1]</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, type of description of holes in export table.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-weight: bold; font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">0x9B: iExportDesc[1]</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">, is description of holes in export table.</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';">Example<span style="font-family: 宋体;">：</span> </span><span style="font-weight: bold; font-size: 14pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">    <span style="font-family: 宋体;">下面我们来看一个例子，来帮助你更好的理解上面说的那些字段。我们将使用标准的Symbian OS build command来编译3.0 SDK提供的Helloworld Basic例子。</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">C:\Symbian\9.1\S60_3rd\S60Ex\helloworldbasic>bldmake bldfiles</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">C:\Symbian\9.1\S60_3rd\S60Ex\helloworldbasic>abld build gcce urel</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">现在切换到</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">\epoc32</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">\r</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">elease\gcce\urel</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">目录，使用</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Elf2E32</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">工具读取E32 image头信息。做法如下：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">C:\Symbian\9.1\S60_3rd\S60Ex\helloworldbasic>elf2e32 --e32input=helloworldbasic.exe</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">然后你将会看到</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">helloworldbasic.exe</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">的头信息；输出的过程可能会很长，所以一个比较好的方法是将他转储到文件，便于我们进一步分析：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">C:\Symbian\9.1\S60_3rd\S60Ex\helloworldbasic>elf2e32 --e32input=helloworldbasic.exe > helloworldbasic.txt</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">打开</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">helloworldbasic.txt</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">，你将会看到头信息（我已经用绿色的注释标明了</span> </span><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">E32ImageHeaderV</span> <span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"><span style="font-family: 宋体;">的字段）：</span> </span><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">E32ImageFile 'helloworldbasic.exe'</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">V2.00(505) Time Stamp: 00e0eb0a,d2525b80 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iTimeStampHi, iTimeStampLo</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">EPOC Exe for ARMV5 CPU </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iCpuIdentifier = 0x20001 (ARMv5)</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Flags: 1200002a </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iFlags</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Priority Foreground</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Entry points are not called</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Image header is format 2</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Image is compressed using the DEFLATE algorithm </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iCompressionType</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Uncompressed size 0000b788</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Image FPU support : Soft VFP</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Secure ID: a000017f </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iSecureId</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Vendor ID: 00000000 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iVendorId</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Capabilities: 00000000 00000000</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> // iSs.iCaps.iCaps</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Exception Descriptor Offset: 00002561</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> // iExceptionDescriptor</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Exception Index Table Base: 00012dfc</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Exception Index Table Limit: 000130bc</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">RO Segment Base: 00008001</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">RO Segment Limit: 0000a77c</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Export Description: Size=000, Type=01 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iExportDescSize = 000 iExportDescType = 01</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Export description consistent</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Module Version: 10.0 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iModuleVersion</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Imports are ELF-style</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">ARM EABI</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Built against EKA2</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Uids: 1000007a 100039ce a000017f (1e7cca07)</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iUid1 = 1000007a, iUid2 = 100039ce, iUid3 = a000017f, iUidChecksum = 1e7cca07</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Header CRC: 023aca0d </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iHeaderCrc</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">File Size: 0000b788 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iUncompressedSize</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Code Size: 0000b0bc </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iCodeSize</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Data Size: 00000000</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> // iDataSize</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Compression: 101f7afc </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iCompressionType</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Min Heap Size: 00001000 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iHeapSizeMin</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Max Heap Size: 00100000</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> // iHeapSieMax</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Stack Size: 00005000 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iStackSize</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Code link addr: 00008000 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iCodeBase</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Data link addr: 00400000</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> // iDataBase</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Code reloc offset: 0000b650</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> // iCodeRelocOffset</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Data reloc offset: 00000000 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iDataRelocOffset</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Dll ref table count: 10 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iDllRefTableCount</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Offset Size Relocs #Relocs</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Code 00009c 00b0bc 00b650 00007d +002504 (entry pnt)</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iCodeOffset = 00009c iCodeSize = 00b0bc iCodeRelocOffset = 00b650</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Data 000000 000000</span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iDataOffset iDataSize</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Bss 000000</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> // iBssSize</span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char; text-indent: 21.75pt;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"> </span> <span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';">Import 00b158 </span> <span style="font-size: 10.5pt; color: #008000; font-family: 'Times New Roman'; mso-spacerun: 'yes';">// iImportOffset</span> <span style="font-size: 10.5pt; color: #008000; font-family: '宋体'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: 'Times New Roman'; mso-spacerun: 'yes';"></span>
<p class="0" style="layout-grid-mode: char;"><span style="font-size: 10.5pt; font-family: '宋体'; mso-spacerun: 'yes';">    <span style="font-family: 宋体;">全都在这了！！希望你能够喜欢这篇文章！</span> </span>
<!--EndFragment-->
